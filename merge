#DO NOT EDIT THIS FILE.  IT IS MAINTAINED THROUGH EROS.
#!/bin/bash
#Author: David Gitz
#Purpose: Syncs eROS w/ file system.  Assumes the account /home/robot is used

function print_usage()
{
    echo "Usage Instructions"
    echo "-m Basic Merge"
    echo "-p <path> Merges with package at path"
}

function basic_merge()
{
	rsync -avr scripts/* /home/robot/scripts
}

function sync_topackage()
{
	echo "Syncing to: "$1
	rsync -avr include/* $1/include/
	rsync -avr src/Communication/MessageGeneration/generated/ros/udpmessage.h $1/include/
	rsync -avr src/Communication/MessageGeneration/generated/ros/serialmessage.h $1/include/
	rsync -avr src/Communication/MessageGeneration/generated/ros/udpmessage.cpp $1/util/
	rsync -avr src/Communication/MessageGeneration/generated/ros/serialmessage.cpp $1/util/
	
}
if [ $# -eq 0 ]; then
    print_usage
fi

if [ "$1" = "-m" ]; then
    basic_merge
elif [ "$1" = "-p" ]; then
	basic_merge
    sync_topackage $2
fi
